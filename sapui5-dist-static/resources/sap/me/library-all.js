jQuery.sap.declare('sap.me.library-all');if(!jQuery.sap.isDeclared('sap.me.CalendarLegendRenderer')){
/*!
 * SAP UI development toolkit for HTML5 (SAPUI5)
 * 
 * (c) Copyright 2009-2013 SAP AG. All rights reserved
 */
jQuery.sap.declare("sap.me.CalendarLegendRenderer");sap.me.CalendarLegendRenderer={};sap.me.CalendarLegendRenderer.render=function(r,c){var l=c.getAggregation("labels");if(c.getVisible()&&l&&l.length>0){var m="";var W=c.getWidth();if(W){m+="width:"+W+";"}r.write("<div");r.writeControlData(c);r.addClass("sapUIMeLegendOuterContainer");r.writeAttribute("style",m);r.writeClasses();r.write(">");r.write("<div");r.addClass("sapMeCalendarLegend");r.addClass("sapMeCalendarLegend"+c.getDesign());r.writeClasses();r.write(">");r.write("<div  id='"+c.getId()+"-arrow'");r.addClass("sapUIMeLegend");r.writeClasses();r.write(">");if(c.getExpandable()){r.renderControl(c.getAggregation("icon"))}r.write("<div id='"+c.getId()+"-LegendMenuContainer'");r.addClass("sapUIMeLegendMenuContainer");r.writeClasses();r.write(">");r.write("<div id='"+c.getId()+"-LegendMenu'");r.addClass("sapUIMeLegendMenu");if(!c.getExpanded()){r.write("style = 'display:none'")}r.writeClasses();r.write(">");var w=c.getLegendWidth();for(var i=0;i<l.length;i++){r.write("<div ");r.addClass("sapUIMeLegendLine");r.writeClasses();r.write(">");r.write("<div ");r.addClass("sapUIMeLegendColor");r.addClass(c._getColorBoxStyle(l[i].getId()));r.writeClasses();r.write("></div>");r.renderControl(l[i]);r.write("</div>")}r.write("</div>");r.write("</div>");r.write("</div>");r.write("</div>");r.write("</div>")}}};if(!jQuery.sap.isDeclared('sap.me.CalendarRenderer')){jQuery.sap.declare("sap.me.CalendarRenderer");jQuery.sap.require('sap.ui.core.LocaleData');jQuery.sap.require('sap.ui.core.format.DateFormat');sap.me.CalendarRenderer={};sap.me.CalendarRenderer.render=function(r,c){if(!c.getVisible())return;r.write("<div");r.writeControlData(c);r.addClass("sapMeCalendar");var C="sapMeCalendar"+c.getDesign();r.addClass(C);r.writeClasses();var w=c.getWidth();if(w!=undefined){r.addStyle("width",w);r.writeStyles()}r.write(">");r.renderControl(c._oPrevBtn);r.renderControl(c._oNextBtn);var s=c.getSingleRow();var a=c.getCurrentDate();var m=s?1:c.getMonthsToDisplay();var n=new Date();var N=n.toDateString();var i;if(m===1){this._renderMonth(r,c,a,N)}else{var b=new Date(a);var M=Math.floor(m/2);for(i=0;i<M;i++){b.setDate(0);b.setDate(1)}for(i=0;i<m;i++){this._renderMonth(r,c,b.toDateString(),N);b.setDate(32);b.setDate(1)}}r.write("</div>")};sap.me.CalendarRenderer._getIntervalPattern=function(l,p){var P="";if(l!==undefined&&l!==null){P=(p&&l._get("intervalFormat-"+p))||l._get("intervalFormatFallback")}if(!P){if(sap.ui.getCore().getConfiguration().getRTL()){P="{1} - {0}"}else{P="{0} - {1}"}}return P};sap.me.CalendarRenderer._formatDate=function(d,p){var a=sap.ui.core.format.DateFormat.getDateTimeInstance({pattern:p});return a.format(d)};sap.me.CalendarRenderer._getDateIntervalText=function(d,D,p){var l=sap.ui.getCore().getConfiguration().getFormatSettings().getFormatLocale();var L=sap.ui.core.LocaleData.getInstance(l);var o,a;if(d.getTime()<=D.getTime()){o=d;a=D}else{o=D;a=d}var i=this._getIntervalPattern(L,p);var f=this._getIntervalPattern(L,"");var I=f.replace("{0}","").replace("{1}","").trim();var P=i.split(I);return this._formatDate(o,P[0])+I+this._formatDate(a,P[1])};sap.me.CalendarRenderer._getMonthAndYear=function(d){var l=sap.ui.getCore().getConfiguration().getFormatSettings().getFormatLocale();var L=sap.ui.core.LocaleData.getInstance(l);var p=this._getIntervalPattern(L,"yMMM-y");var f=this._getIntervalPattern(L,"");var i=f.replace("{0}","").replace("{1}","").trim();var P=p.split(i);return this._formatDate(d,P[0])};sap.me.CalendarRenderer._renderMonth=function(r,c,m,d){var s=c.getSingleRow();var f=c.getFirstDayOffset();var w=c.getDays();var W=w.length;var a=c.getWeeksPerRow();var D=a*W;var b=(100/D);var e=c.getDayHeight();var M=(100/(s?1:c.getMonthsPerRow()));var g=new Date(m);var C=g.getDate();var h=g.getDay();g.setDate(1);var j=g.getDay();if(j<f){j+=7}var k=g.getMonth();var l=new Date(g.getYear(),k+1,0);var n=l.getDate();var o=s?h+1-f:C+j-f;var p=Math.ceil((n+o-C)/7);var t=s?D:(p*7);var q=this._getMonthAndYear(g);g.setDate(C-o+1);if(s){var u=new Date(g.getTime());u.setDate(u.getDate()+t-1);if(g.getFullYear()!==u.getFullYear()||g.getMonth()!==u.getMonth()){q=this._getDateIntervalText(g,u,"yMMM-y")}}r.write('<div');r.addClass("sapMeCalendarMonth");if(!s){r.addClass("sapMeCalendarMonthNotSingle")}r.writeClasses();r.addStyle("width",M+"%");r.writeStyles();r.write(">");r.write('<div');r.addClass("sapMeCalendarMonthName");r.writeClasses();if(c.getHideMonthTitles()){r.addStyle("display","none");r.writeStyles()}r.write(">");r.writeEscaped(q);r.write("</div>");r.write('<div');r.addClass("sapMeCalendarMonthDayNames");r.writeClasses();r.write(">");var i;for(i=0;i<D;i++){var v=w[(i+f)%W];this._renderDay(r,c,null,v,b)}r.write('</div>');r.write('<div');r.addClass("sapMeCalendarMonthDays");r.writeClasses();r.write(">");for(i=0;i<t;i++){var x=g.getMonth();var y=g.getDay();h=g.getDate();var N=x!==k;var I=g.toDateString();var z=I==d;this._renderDay(r,c,I,h+"",b,e,y,N,z);g.setDate(g.getDate()+1)}r.write('</div>');r.write('</div>')};sap.me.CalendarRenderer._renderDay=function(r,c,i,C,d,D,a,n,I){r.write("<div");r.addClass("sapMeCalendarMonthDay");if(I){r.addClass("sapMeCalendarDayNow")}if(n&&!c.getSingleRow()){r.addClass("sapMeCalendarDayNotInCurrentMonth")}if(typeof a=="number"){r.addClass("sapMeCalendarWeekDay"+a)}r.writeClasses();r.addStyle("width",d+"%");if(D){r.addStyle("height",D+"px")}r.writeStyles();r.write(">");r.write('<span>');r.writeEscaped(C);r.write("</span>");r.write('<input type="hidden" value="'+i+'">');r.write("</span>");r.write("</div>")}};if(!jQuery.sap.isDeclared('sap.me.OverlapCalendarRenderer')){jQuery.sap.declare("sap.me.OverlapCalendarRenderer");sap.me.OverlapCalendarRenderer={};sap.me.OverlapCalendarRenderer.render=function(r,c){if(c.getVisible()==false){return}r.write("<div");r.writeControlData(c);r.addClass("sapMeOverlapCalendar");r.writeClasses();var w=c.getWidth();if(w!=undefined){r.addStyle("width",w);r.writeStyles()}r.write(">");r.write("<div");r.addClass("sapMeOverlapCalendarCalendar");r.writeClasses();r.write(">");r.renderControl(c.getCalendar());r.write("</div>");r.write("<div");r.addClass("sapMeOverlapCalendarOverlapIndicator");r.writeClasses();r.write(">");var W=7;var a=c.getCalendar().getWeeksPerRow();var d=a*W;var b=new Date(c.getStartDate());var D=(100/d);for(var i=0;i<d;i++){r.write("<div");r.writeAttribute("id","overlap-"+i);r.addClass("sapMeOverlapCalendarOverlap");r.writeClasses();r.addStyle("width",D+"%");r.writeStyles();r.write("></div>");b.setDate(b.getDate()+1)}r.write("</div>");this._renderGrid(r,c);r.write("</div>")};sap.me.OverlapCalendarRenderer._renderGrid=function(r,c){var w=7;var W=c.getCalendar().getWeeksPerRow();var d=W*w;var a=c._aRows;if(a){var n=a.length;r.write('<div');r.addClass("sapMeOverlapCalendarGrid");r.writeClasses();r.addStyle("width","100%");r.writeStyles();r.write(">");for(var i=0;i<n;i++){if(a[i]!=undefined){this._renderRow(r,c,d,i,new Date(c.getStartDate()))}}}r.write('</div>')};sap.me.OverlapCalendarRenderer._renderRow=function(r,c,d,a,b){var D=(100/d);var e=c.getCalendar().getDayHeight();r.write('<div');r.writeAttribute("id",c.getId()+"-row-"+a);r.addClass("sapMeOverlapCalendarRow");r.writeClasses();r.addStyle("height",e+"px");r.writeStyles();r.write(">");r.write('<div');r.writeAttribute("id",c.getId()+"-row-"+a+"-lbls");r.addClass("sapMeOverlapCalendarRowLabels");r.writeClasses();r.write(">");r.renderControl(c._getLabelForRow(a));r.write('</div>');for(var i=0;i<d;i++){this._renderDay(r,c,D,e,a,i);b.setDate(b.getDate()+1)}r.write('</div>')};sap.me.OverlapCalendarRenderer._renderDay=function(r,c,d,D,R,i){r.write("<div");r.writeAttribute("id",R+"-"+i);r.addClass("sapMeOverlapCalendarDay");r.writeClasses();r.addStyle("width",d+"%");if(D){r.addStyle("height",D+"px")}r.writeStyles();r.write("></div>")}};if(!jQuery.sap.isDeclared('sap.me.ProgressIndicatorRenderer')){jQuery.sap.declare("sap.me.ProgressIndicatorRenderer");sap.me.ProgressIndicatorRenderer={};sap.me.ProgressIndicatorRenderer.render=function(r,p){var u=new jQuery.sap.Version(sap.ui.getCore().getConfiguration().getCompatibilityVersion("sapMeProgressIndicator"));if(u.compareTo("1.16")>=0){jQuery.sap.log.error("The sap.me.ProgressIndicator control is not supported as of SAPUI5 version 1.16. Please us sap.m.ProgressIndicator instead.");return}var a=r;var w=p.getWidth();var b=p.getPercentValue();var c;var d;if(!p.getVisible()){return}if(b>100){c=(10000/b)+'%'}else{c='100%'}a.write('<DIV');a.writeControlData(p);a.writeAttribute('tabIndex','0');if(p.getWidth()&&p.getWidth()!=''){a.writeAttribute('style','width:'+w+';')}if(p.getTooltip_AsString()){a.writeAttributeEscaped('title',p.getDisplayValue()+'- '+p.getTooltip_AsString())}else{a.writeAttributeEscaped('title',p.getDisplayValue())}a.addClass('sapUIMeProgInd');a.writeClasses();a.write('>');a.write('<DIV');a.writeAttribute('id',p.getId()+'-box');if(p.getWidth()&&p.getWidth()!=''){a.writeAttribute('style','width:'+c+';')}a.addClass('sapUIMeProgIndBorder');a.writeClasses();a.write('>');a.write('<DIV');a.writeAttribute('id',p.getId()+'-bar');a.writeAttribute('onselectstart',"return false");a.writeAttribute('style','width:'+p.getPercentValue()+'%;');var B=p.getBarColor();a.addClass("sapUIMeProgIndBar");if(B!=""){a.addClass("sapUIMeProgIndBar"+jQuery.sap.escapeHTML(B))}a.writeClasses();a.write('>');a.write('<DIV');a.writeAttribute('id',p.getId()+'-end');if(b>100){a.addClass('sapUIMeProgIndEnd')}else{a.addClass('sapUIMeProgIndEndHidden')}a.writeClasses();a.writeAttribute('style','position: relative; left:'+c);a.write('>');a.write('</DIV>');a.write('<SPAN');a.addClass('sapUIMeProgIndFont');a.writeClasses();a.write('>');if(p.getShowValue()&&p.getShowValue()==true){if(p.getDisplayValue()&&p.getDisplayValue()!=''){a.writeEscaped(p.getDisplayValue())}}a.write('</SPAN>');a.write('</DIV>');a.write('</DIV>');a.write('</DIV>')}};if(!jQuery.sap.isDeclared('sap.me.TabContainerRenderer')){jQuery.sap.declare("sap.me.TabContainerRenderer");sap.me.TabContainerRenderer={};sap.me.TabContainerRenderer.render=function(r,c){var u=new jQuery.sap.Version(sap.ui.getCore().getConfiguration().getCompatibilityVersion("sapMeTabContainer"));if(u.compareTo("1.16")>=0){jQuery.sap.log.error("The sap.me.TabContainer control is not supported as of SAPUI5 version 1.16. Please us sap.m.IconTabBar instead.");return}if(!c.getVisible()){return}r.write("<div");r.writeControlData(c);r.addClass("sapUIMeTabContainer");r.writeClasses();r.writeStyles();r.write(">");r.write("<div ");r.addClass("sapUIMeTabContainerButtons");r.writeClasses();r.write(">");var b=c.getAggregation("tabs");var I=c.getSelectedTab();var a=c.getAggregation("badges");if(b){if(jQuery.isArray(b)){for(var i=0;i<b.length;i++){var t=b[i].getCustomData();if(c._getContentForBtn(b[i].getId())){r.write("<div ");r.addClass("sapUIMeTabContainerTab");if(i===I){r.addClass("sapUIMeTabContainerTabSelected")}r.writeClasses();r.write(">");if(a&&a[i].getText()!=""){r.renderControl(a[i])}r.renderControl(b[i]);r.write("</div>")}}}else if(b){r.write("<div ");r.addClass("sapUIMeTabContainerTab");r.writeClasses();r.write(">");if(a&&a[0].getText()!=""){r.renderControl(a[0])}r.renderControl(b);r.write("</div>")}}r.write("</div>");var C=c._getContentForBtn(b[I].getId());if(C!=undefined){r.write("<div ");r.addClass("sapUIMeTabContainerContent");r.writeClasses();r.write(">");r.write("<div id='"+c.getId()+"-arrow'");r.addClass("sapUIMeTabContainerContentArrow");r.writeClasses();r.write(">");r.write("</div>");r.write("<div id='"+c.getId()+"-container'");r.write(" style='height:auto'");r.addClass("sapUIMeTabContainerTabContent");r.writeClasses();r.write(">");r.renderControl(C);r.write("</div>");r.write("</div>")}r.write("</div>")}};if(!jQuery.sap.isDeclared('sap.me.library')){jQuery.sap.declare("sap.me.library");jQuery.sap.require('sap.ui.core.Core');jQuery.sap.require('sap.ui.core.library');sap.ui.getCore().initLibrary({name:"sap.me",dependencies:["sap.ui.core"],types:["sap.me.CalendarDesign","sap.me.CalendarEventType"],interfaces:[],controls:["sap.me.Calendar","sap.me.CalendarLegend","sap.me.OverlapCalendar","sap.me.ProgressIndicator","sap.me.TabContainer"],elements:["sap.me.OverlapCalendarEvent"],version:"1.16.4"});jQuery.sap.declare("sap.me.CalendarDesign");sap.me.CalendarDesign={Action:"Action",Approval:"Approval"};jQuery.sap.declare("sap.me.CalendarEventType");sap.me.CalendarEventType={Type00:"Type00",Type01:"Type01",Type04:"Type04",Type06:"Type06",Type07:"Type07"}};if(!jQuery.sap.isDeclared('sap.me.Calendar')){jQuery.sap.declare("sap.me.Calendar");jQuery.sap.require('sap.ui.core.Control');sap.ui.core.Control.extend("sap.me.Calendar",{metadata:{publicMethods:["getSelectedDates","toggleDatesSelection","toggleDatesRangeSelection","unselectAllDates","toggleDatesType"],library:"sap.me",properties:{"visible":{type:"boolean",group:"Misc",defaultValue:true},"hideNavControls":{type:"boolean",group:"Misc",defaultValue:false},"hideMonthTitles":{type:"boolean",group:"Misc",defaultValue:false},"monthsPerRow":{type:"int",group:"Misc",defaultValue:0},"dayWidth":{type:"int",group:"Misc",defaultValue:45},"dayHeight":{type:"int",group:"Misc",defaultValue:50},"weeksPerRow":{type:"int",group:"Misc",defaultValue:1},"singleRow":{type:"boolean",group:"Misc",defaultValue:null},"monthsToDisplay":{type:"int",group:"Misc",defaultValue:1},"currentDate":{type:"string",group:"Misc",defaultValue:null},"enableMultiselection":{type:"boolean",group:"Misc",defaultValue:false},"firstDayOffset":{type:"int",group:"Misc",defaultValue:0},"disabledWeekDays":{type:"any",group:"Misc",defaultValue:null},"disabledDates":{type:"any",group:"Misc",defaultValue:null},"swipeToNavigate":{type:"boolean",group:"Misc",defaultValue:false},"design":{type:"sap.me.CalendarDesign",group:"Appearance",defaultValue:sap.me.CalendarDesign.Approval},"width":{type:"sap.ui.core.CSSSize",group:"Dimension",defaultValue:'100%'},"days":{type:"any",group:"Appearance",defaultValue:null},"months":{type:"any",group:"Appearance",defaultValue:null}},events:{"tapOnDate":{},"changeCurrentDate":{},"changeRange":{}}}});sap.me.Calendar.M_EVENTS={'tapOnDate':'tapOnDate','changeCurrentDate':'changeCurrentDate','changeRange':'changeRange'};sap.me.Calendar.prototype.init=function(){var d=new Date();this.setProperty("currentDate",d.toDateString(),true);jQuery.sap.require("sap.ui.core.LocaleData");var o=sap.m.getLocaleData();this.setDays(o.getDays("abbreviated"));this.setMonths(o.getMonths("abbreviated"));var p=new sap.ui.core.Icon({src:"navigation-left-arrow"});p.addStyleClass("sapMeCalendarPrevious");p.attachPress(null,this._gotoPrevious,this);p.setParent(this);this._oPrevBtn=p;var n=new sap.ui.core.Icon({src:"navigation-right-arrow"});n.addStyleClass("sapMeCalendarNext");n.attachPress(null,this._gotoNext,this);n.setParent(this);this._oNextBtn=n;this._oDatesClasses={};this._$interactiveDates=null};sap.me.Calendar.prototype.exit=function(){this._oPrevBtn.destroy();delete this._oPrevBtn;this._oNextBtn.destroy();delete this._oNextBtn;delete this._oDatesClasses;delete this._$interactiveDates;delete this._$fromDate;delete this._$toDate};sap.me.Calendar.prototype.onBeforeRendering=function(){delete this._$interactiveDates};sap.me.Calendar.prototype.onAfterRendering=function(){var $=this.$();var a=null;var d=this.getDisabledWeekDays()||[];var c=[];for(var i=0;i<d.length;i++){c.push(".sapMeCalendarWeekDay"+d[i])}var I=this.getSingleRow()||this.getMonthsToDisplay()===1;if(!I){c.push(".sapMeCalendarDayNotInCurrentMonth")}if(c.length){var t=c.join(", ");$.find(".sapMeCalendarMonth > div.sapMeCalendarMonthDays").children(t).css({"pointer-events":"none"});a=$.find(".sapMeCalendarMonth > div.sapMeCalendarMonthDays > .sapMeCalendarMonthDay:not("+t+")")}else{a=$.find(".sapMeCalendarMonth > div.sapMeCalendarMonthDays > .sapMeCalendarMonthDay")}var D=this.getDisabledDates()||[];for(var i=0;i<D.length;i++){var s=D[i];a.children("input[value='"+s+"']").parent().css({"pointer-events":"none"})}for(var s in this._oDatesClasses){var S=this._oDatesClasses[s].join(" ");a.children("input[value='"+s+"']").parent().addClass(S)}this._$interactiveDates=a;var h=this.getHideNavControls();this._oPrevBtn.$().css({display:h?"none":""});this._oNextBtn.$().css({display:h?"none":""})};sap.me.Calendar.prototype.setEnableMultiselection=function(e){return this.setProperty("enableMultiselection",e,true)};sap.me.Calendar.prototype.setHideNavControls=function(h){if(this.getDomRef()){this._oPrevBtn.$().css({display:h?"none":""});this._oNextBtn.$().css({display:h?"none":""})}return this.setProperty("hideNavControls",h,true)};sap.me.Calendar.prototype.setHideMonthTitles=function(h){if(this.getDomRef()){this.$().find(".sapMeCalendarMonthName").css({display:h?"none":""})}return this.setProperty("hideMonthTitles",h,true)};sap.me.Calendar.prototype.setFirstDayOffset=function(o){o=o%this.getDays().length;return this.setProperty("firstDayOffset",o)};sap.me.Calendar.prototype.setWeeksPerRow=function(w){w=w%5;return this.setProperty("weeksPerRow",w)};sap.me.Calendar.prototype.setDisabledWeekDays=function(w){w=w||[];return this.setProperty("disabledWeekDays",w)};sap.me.Calendar.prototype.setDisabledDates=function(d){d=d||[];for(var i=0;i<d.length;i++){var D=d[i];if(typeof D=="string"){D=new Date(D)}var s=D.toDateString();d[i]=s}return this.setProperty("disabledDates",d)};sap.me.Calendar.prototype.ontouchstart=function(e){if(!this.getSwipeToNavigate()){this._gestureStart(e)}};sap.me.Calendar.prototype._gestureStart=function(e){this._$fromDate=this.getEnableMultiselection()?this._getDateDomRef(e.target):null};sap.me.Calendar.prototype.ontouchmove=function(e){if(!this.getSwipeToNavigate()){this._gestureMove(e)}};sap.me.Calendar.prototype._gestureMove=function(e){if(this._$fromDate){if(!this._$toDate){this._$fromDate.addClass("sapMeCalendarHighlight");this._$toDate=this._$fromDate}e.stopPropagation();e.preventDefault();var d=e.target;if(e.touches.length){var t=e.touches[0];d=document.elementFromPoint(t.clientX,t.clientY)}var $=this._getDateDomRef(d);if($&&$!=this._$toDate){this._$toDate.removeClass("sapMeCalendarHighlight");this._$fromDate.addClass("sapMeCalendarHighlight");$.addClass("sapMeCalendarHighlight");this._$toDate=$}}};sap.me.Calendar.prototype.ontouchend=function(e){if(!this.getSwipeToNavigate()){this._gestureEnd(e)}};sap.me.Calendar.prototype._gestureEnd=function(e){if(this._$fromDate&&this._$toDate){e.stopPropagation();e.preventDefault();var f=this._getDateValue(this._$fromDate);var t=this._getDateValue(this._$toDate);this._$fromDate.removeClass("sapMeCalendarHighlight");this._$toDate.removeClass("sapMeCalendarHighlight");this.toggleDatesRangeSelection(f,t,true);this.fireChangeRange({fromDate:f,toDate:t})}delete this._$fromDate;delete this._$toDate};sap.me.Calendar.prototype.ontap=function(e){this._gestureSelect(e)};sap.me.Calendar.prototype._gestureSelect=function(e){var $=this._getDateDomRef(e.target);if($){var d=this._getDateValue($);var D=!$.hasClass("sapMeCalendarSelected");if(!this.getEnableMultiselection()){this.unselectAllDates()}$.toggleClass("sapMeCalendarSelected",D);this._updateDatesWithClass("sapMeCalendarSelected",d,D);this.fireTapOnDate({didSelect:D,date:d})}};sap.me.Calendar.prototype.onswipeleft=function(e){if(this.getSwipeToNavigate()){this._gotoNext()}};sap.me.Calendar.prototype.onswiperight=function(e){if(this.getSwipeToNavigate()){this._gotoPrevious()}};sap.me.Calendar.prototype.getSelectedDates=function(){return this._getDatesWithStyleClass("sapMeCalendarSelected")};sap.me.Calendar.prototype.toggleDatesSelection=function(d,s){this._toggleDatesStyleClass("sapMeCalendarSelected",d,s)};sap.me.Calendar.prototype.toggleDatesType=function(d,t,s){this._toggleDatesStyleClass("sapMeCalendar"+t,d,s)};sap.me.Calendar.prototype.removeTypesOfAllDates=function(){this._removeStyleClassOfAllDates("sapMeCalendar"+sap.me.CalendarEventType.Type00);this._removeStyleClassOfAllDates("sapMeCalendar"+sap.me.CalendarEventType.Type01);this._removeStyleClassOfAllDates("sapMeCalendar"+sap.me.CalendarEventType.Type04);this._removeStyleClassOfAllDates("sapMeCalendar"+sap.me.CalendarEventType.Type06);this._removeStyleClassOfAllDates("sapMeCalendar"+sap.me.CalendarEventType.Type07)};sap.me.Calendar.prototype.unselectAllDates=function(){this._removeStyleClassOfAllDates("sapMeCalendarSelected")};sap.me.Calendar.prototype.toggleDatesRangeSelection=function(d,D,s){this._toggleDatesRangeStyleClass("sapMeCalendarSelected",d,D,s)};sap.me.Calendar.prototype._getDatesWithStyleClass=function(s){var d=[];for(var D in this._oDatesClasses){if(jQuery.inArray(s,this._oDatesClasses[D])!==-1){d.push(D)}}return d};sap.me.Calendar.prototype._toggleDatesRangeStyleClass=function(c,d,D,a){if(typeof d=="string"){d=new Date(d)}if(typeof D=="string"){D=new Date(D)}if(d&&D&&typeof d.getTime=="function"&&typeof D.getTime=="function"){if(d>D){var t=new Date(d.getTime());d=D;D=t}var b=[];var o=new Date(d.getTime());while(D-o>=0){b.push(o.toDateString());o.setDate(o.getDate()+1)}this._toggleDatesStyleClass(c,b,a)}};sap.me.Calendar.prototype._toggleDatesStyleClass=function(c,d,a){for(var i=0;i<d.length;i++){var D=d[i];if(typeof D=="string"){D=new Date(D)}var s=D.toDateString();d[i]=s;this._updateDatesWithClass(c,s,a);if(this._$interactiveDates){this._$interactiveDates.children("input[value='"+s+"']").parent().toggleClass(c,a)}}};sap.me.Calendar.prototype._removeStyleClassOfAllDates=function(c){for(var d in this._oDatesClasses){this._updateDatesWithClass(c,d,false)}if(this._$interactiveDates){this._$interactiveDates.removeClass(c)}};sap.me.Calendar.prototype._gotoPrevious=function(){var c=this.getCurrentDate();var a=new Date(c);var s=this.getSingleRow();if(s){a.setDate(a.getDate()-7)}else{a.setDate(0);a.setDate(1)}var C=a.toDateString();this.setCurrentDate(C);this.fireChangeCurrentDate({currentDate:C})};sap.me.Calendar.prototype._gotoNext=function(){var c=this.getCurrentDate();var a=new Date(c);var s=this.getSingleRow();if(s){a.setDate(a.getDate()+7)}else{a.setDate(32);a.setDate(1)}var C=a.toDateString();this.setCurrentDate(C);this.fireChangeCurrentDate({currentDate:C})};sap.me.Calendar.prototype._updateDatesWithClass=function(c,d,a){var s=this._oDatesClasses[d]||[];var i=jQuery.inArray(c,s);if(a&&i===-1){s.push(c)}else if(!a&&i!==-1){s.splice(i,1)}if(s.length===0){this._oDatesClasses[d]=null;delete this._oDatesClasses[d]}else{this._oDatesClasses[d]=s}};sap.me.Calendar.prototype._getDateValue=function($){return $.children("input").eq(0).val()};sap.me.Calendar.prototype._getMonthDate=function(d){var $=jQuery(d);var a=jQuery(this.getDomRef());while($&&$!=a&&!$.hasClass("sapMeCalendarMonthDay")){$=$.parent()}return $&&$.parent().hasClass("sapMeCalendarMonth")?$:null};sap.me.Calendar.prototype._getDateDomRef=function(d){var $=d?jQuery(d):null;var t=this.getId();var a=null;while($&&$[0].id!=t&&!$.hasClass("sapMeCalendarMonth")){if($.hasClass("sapMeCalendarMonthDay")&&$.parent().hasClass("sapMeCalendarMonthDays")){a=$;break}$=$.parent()}return a}};if(!jQuery.sap.isDeclared('sap.me.CalendarLegend')){jQuery.sap.declare("sap.me.CalendarLegend");jQuery.sap.require('sap.ui.core.Control');sap.ui.core.Control.extend("sap.me.CalendarLegend",{metadata:{library:"sap.me",properties:{"legendForType00":{type:"string",group:"Misc",defaultValue:null},"legendForType01":{type:"string",group:"Misc",defaultValue:null},"legendForType04":{type:"string",group:"Misc",defaultValue:null},"legendForType06":{type:"string",group:"Misc",defaultValue:null},"legendForType07":{type:"string",group:"Misc",defaultValue:null},"legendForToday":{type:"string",group:"Misc",defaultValue:null},"legendForSelected":{type:"string",group:"Misc",defaultValue:null},"legendForSelected00":{type:"string",group:"Misc",defaultValue:null},"legendForNormal":{type:"string",group:"Misc",defaultValue:null},"expandable":{type:"boolean",group:"Misc",defaultValue:true},"expanded":{type:"boolean",group:"Misc",defaultValue:true},"width":{type:"sap.ui.core.CSSSize",group:"Dimension",defaultValue:'auto'},"legendWidth":{type:"sap.ui.core.CSSSize",group:"Dimension",defaultValue:'12.5rem'},"visible":{type:"boolean",group:"Appearance",defaultValue:true},"design":{type:"sap.me.CalendarDesign",group:"Appearance",defaultValue:sap.me.CalendarDesign.Approval}},aggregations:{"labels":{type:"sap.m.Label",multiple:true,singularName:"label",visibility:"hidden"},"colors":{type:"sap.ui.core.Control",multiple:true,singularName:"color",visibility:"hidden"},"icon":{type:"sap.ui.core.Icon",multiple:false,visibility:"hidden"}}}});jQuery.sap.require('sap.ui.core.IconPool');jQuery.sap.require('sap.ui.core.theming.Parameters');sap.me.CalendarLegend.prototype.init=function(){this._createIcon();sap.ui.core.IconPool.insertFontFaceStyle();this._legendIndex=[]};sap.me.CalendarLegend.prototype.setLegendForType00=function(v){this._setLegendLabelByName("ForType00",v)};sap.me.CalendarLegend.prototype.setLegendForType01=function(v){this._setLegendLabelByName("ForType01",v)};sap.me.CalendarLegend.prototype.setLegendForType04=function(v){this._setLegendLabelByName("ForType04",v)};sap.me.CalendarLegend.prototype.setLegendForType06=function(v){this._setLegendLabelByName("ForType06",v)};sap.me.CalendarLegend.prototype.setLegendForType07=function(v){this._setLegendLabelByName("ForType07",v)};sap.me.CalendarLegend.prototype.setLegendForToday=function(v){this._setLegendLabelByName("ForToday",v)};sap.me.CalendarLegend.prototype.setLegendForSelected=function(v){this._setLegendLabelByName("ForSelected",v)};sap.me.CalendarLegend.prototype.setLegendForSelected00=function(v){this._setLegendLabelByName("ForSelected00",v)};sap.me.CalendarLegend.prototype.setLegendForNormal=function(v){this._setLegendLabelByName("ForNormal",v)};sap.me.CalendarLegend.prototype.setExpanded=function(v){this.setProperty("expanded",v);this._changeIconSrc()};sap.me.CalendarLegend.prototype._setLegendLabelByName=function(n,v){var o=sap.ui.getCore().byId(this.getId()+"-"+n);var c=sap.ui.getCore().byId(this.getId()+'-Color'+n);if(!o){o=new sap.m.Label(this.getId()+'-'+n,{width:"auto"});o.addStyleClass("sapUIMeCalendarLegendLabels");this.addAggregation("labels",o,true);o.setText(v);c=new sap.m.Label(this.getId()+'-Color'+n);c.addStyleClass("sapUIMeLegendColor");c.addStyleClass("sapUIMeLegendColor"+n);this.addAggregation("colors",c,true);this._legendIndex.push(n)}else{o.setText(v);if(!v){this.removeAggregation("colors",c,true);this.removeAggregation("labels",o,true)}else{var i=this._legendIndex.indexOf(n);this.insertAggregation("colors",c,i,true);this.insertAggregation("labels",o,i,true)}}this.setProperty("legend"+n,v)};sap.me.CalendarLegend.prototype.setExpandable=function(v){this.setProperty("expandable",v);if(!v&&!this.getExpanded()){this.toggleExpandCollapse()}};sap.me.CalendarLegend.prototype.setVisible=function(v){this.setProperty("visible",v)};sap.me.CalendarLegend.prototype.toggleExpandCollapse=function(){if(!this.getExpandable())return;var e=!this.getExpanded();var $=jQuery.sap.byId(this.getId()+"-LegendMenu");if(e){jQuery.sap.byId(this.getId()+"-LegendMenu").css("display","none").css("height","auto");$.slideDown('600',"swing",jQuery.proxy(this.onTransitionEnded,this))}else{$.slideUp('600',jQuery.proxy(this.onTransitionEnded,this))}this.setProperty("expanded",e,true);this._changeIconSrc()};sap.me.CalendarLegend.prototype._createIcon=function(){var n=this.getExpanded()?"Collapse":"Expand";var i=sap.ui.core.theming.Parameters.get("sapMeCalendarLegendIcon"+n);var c=sap.ui.core.theming.Parameters.get("sapUiLightIcon");var a=sap.ui.core.theming.Parameters.get("sapUiHighlight");var A=sap.ui.core.theming.Parameters.get("sapUiIconInverted");var I=new sap.ui.core.Icon(this.getId()+i,{src:i,color:c,activeBackgroundColor:a,activeColor:A,press:jQuery.proxy(this.toggleExpandCollapse,this)});I.addStyleClass("sapUIMeLegendIcon");this.setAggregation("icon",I,true)};sap.me.CalendarLegend.prototype._getColorBoxStyle=function(i){var a=this.getId()+"-";var s=i.substr(i.indexOf(a)+a.length);s="sapUIMeLegendColor"+s;return s};sap.me.CalendarLegend.prototype._changeIconSrc=function(){var n=null;if(this.getExpanded()||!this.getExpandable()){n="Collapse"}else{n="Expand"}var i=sap.ui.core.theming.Parameters.get("sapMeCalendarLegendIcon"+n);this.getAggregation("icon").setSrc(i)}};if(!jQuery.sap.isDeclared('sap.me.OverlapCalendar')){jQuery.sap.declare("sap.me.OverlapCalendar");jQuery.sap.require('sap.ui.core.Control');sap.ui.core.Control.extend("sap.me.OverlapCalendar",{metadata:{library:"sap.me",properties:{"startDate":{type:"string",group:"Data",defaultValue:null},"weeksPerRow":{type:"int",group:"Appearance",defaultValue:2},"firstDayOffset":{type:"int",group:"Appearance",defaultValue:0},"showOverlapIndicator":{type:"boolean",group:"Appearance",defaultValue:false},"visible":{type:"boolean",group:"Appearance",defaultValue:true},"swipeToNavigate":{type:"boolean",group:"Behavior",defaultValue:true},"width":{type:"sap.ui.core.CSSSize",group:"Dimension",defaultValue:'100%'}},aggregations:{"calendarEvents":{type:"sap.me.OverlapCalendarEvent",multiple:true,singularName:"calendarEvent"},"calendar":{type:"sap.me.Calendar",multiple:false,visibility:"hidden"},"typeLabels":{type:"sap.m.Label",multiple:true,singularName:"typeLabel",visibility:"hidden"},"nameLabels":{type:"sap.m.Label",multiple:true,singularName:"nameLabel",visibility:"hidden"}},events:{"endOfData":{},"changeDate":{}}}});sap.me.OverlapCalendar.M_EVENTS={'endOfData':'endOfData','changeDate':'changeDate'};jQuery.sap.require('sap.ui.core.theming.Parameters');sap.me.OverlapCalendar.prototype.init=function(){this.setAggregation("calendar",new sap.me.Calendar({singleRow:true,weeksPerRow:this.getWeeksPerRow(),monthsPerRow:1,monthsToDisplay:1,dayWidth:48,dayHeight:48,swipeToNavigate:this.getSwipeToNavigate()}));this.getCalendar().attachChangeCurrentDate(this.onCurrentDateChanged,this);this._typeWithBgImages=["04","07"];this._oDaysOverlap={}};sap.me.OverlapCalendar.prototype.onswiperight=function(e){if(this.getSwipeToNavigate()){this.getCalendar().onswiperight(e)}};sap.me.OverlapCalendar.prototype.onswipeleft=function(e){if(this.getSwipeToNavigate()){this.getCalendar().onswipeleft(e)}};sap.me.OverlapCalendar.prototype.setSwipeToNavigate=function(s){this.getCalendar().setSwipeToNavigate(s);this.setProperty("swipeToNavigate",s,true)};sap.me.OverlapCalendar.prototype._getFirstDateDisplayed=function(){var f=this.getCalendar().getFirstDayOffset();var c=new Date(this.getStartDate());var C=c.getDate();var i=c.getDay();c.setDate(1);var d=i+1-f;c.setDate(C-d+1);return c};sap.me.OverlapCalendar.prototype._getLastDateDisplayed=function(){var w=this.getCalendar().getDays();var W=w.length;var i=this.getCalendar().getWeeksPerRow();var d=i*W;var c=this._getFirstDateDisplayed();var t=new Date(c.getTime());t.setDate(t.getDate()+d-1);return t};sap.me.OverlapCalendar.prototype.setWeeksPerRow=function(w){this.getCalendar().setWeeksPerRow(w);this.setProperty("weeksPerRow",w)};sap.me.OverlapCalendar.prototype.getCalendar=function(){return this.getAggregation("calendar")};sap.me.OverlapCalendar.prototype.setStartDate=function(d){this.getCalendar().setFirstDayOffset(0);this.getCalendar().setCurrentDate(d);this.setProperty("startDate",d);var o=this._getDaysOffset(new Date(d),this._getFirstDateDisplayed());this.getCalendar().setFirstDayOffset(o)};sap.me.OverlapCalendar.prototype.onCurrentDateChanged=function(e){this.setProperty("startDate",e.getParameter("currentDate"),true);this.getCalendar().invalidate();this._renderCalendarEvents();this.fireChangeDate({firstDate:this._getFirstDateDisplayed(),endDate:this._getLastDateDisplayed()})};sap.me.OverlapCalendar.prototype.onBeforeRendering=function(){this._aRows=[];this._lastDate=null;this._firstDate=null;var c=this.getCalendarEvents();jQuery.each(c,jQuery.proxy(this._parseCalendarEvent,this))};sap.me.OverlapCalendar.prototype.onAfterRendering=function(){this._renderCalendarEvents()};sap.me.OverlapCalendar.prototype._getDayId=function(d){var c=new Date(this._getFirstDateDisplayed());return this._getDaysOffset(c,d)};sap.me.OverlapCalendar.prototype._cleanUpDivs=function(){jQuery(".sapMeOverlapCalendarDay").removeClass().addClass("sapMeOverlapCalendarDay");jQuery(".sapMeOverlapCalendarHalfDay").remove();jQuery(".sapMeOverlapCalendarDay.sapMeOverlapCalendarDayWithHalf").removeClass(".sapMeOverlapCalendarDayWithHalf");jQuery(".sapMeOverlapCalendarOverlap").css("background-color","transparent").css("border","none");jQuery(".sapMeOverlapCalendarTypeLbl").remove()};sap.me.OverlapCalendar.prototype._renderCalendarEvents=function(){this._mHalfDays={};this._cleanUpDivs();this._oDaysOverlap={};var c=this.getCalendarEvents();jQuery.each(c,jQuery.proxy(this._renderCalendarEvent,this));jQuery.each(this._mHalfDays,jQuery.proxy(this._renderHalfDayCalendarEvent,this));if(this.getShowOverlapIndicator()){for(var i in this._oDaysOverlap){if(this._oDaysOverlap[i]!=undefined&&this._oDaysOverlap[i]>1){var $=jQuery.sap.byId("overlap-"+i);$.css("background-color",sap.ui.core.theming.Parameters.get("sapMeOverlapCalendarIndicator"));$.css("border-right","1px solid "+sap.ui.core.theming.Parameters.get("sapMeOverlapCalendarIndicator"))}}};if(this._firstDate&&this._lastDate){var a=this._getFirstDateDisplayed();a.setDate(a.getDate()+7);var b=this._getLastDateDisplayed();b.setDate(b.getDate()-7);if((this._dayIsBefore(this._lastDate,a))){this.fireEndOfData({before:false})}else if(this._dayIsAfter(this._firstDate,b)){this.fireEndOfData({before:true})}}};sap.me.OverlapCalendar.prototype._addToDayOverlap=function(d){if(this._oDaysOverlap[d]==undefined){this._oDaysOverlap[d]=0}this._oDaysOverlap[d]++};sap.me.OverlapCalendar.prototype._getDaysOffset=function(f,s){return Math.abs(this._getDaysDifference(f,s))};sap.me.OverlapCalendar.prototype._getDaysDifference=function(f,s){var O=1000*60*60*24;var d=f.getTime();var a=s.getTime();var b=d-a;return Math.round(b/O)};sap.me.OverlapCalendar.prototype._dayIsAfter=function(d,a){return(this._getDaysDifference(d,a)>0)};sap.me.OverlapCalendar.prototype._dayIsBefore=function(d,a){return(this._getDaysDifference(d,a)<0)};sap.me.OverlapCalendar.prototype._renderHalfDayCalendarEvent=function(k,h){var e=h[0];var $=jQuery.sap.byId(k);var t=e.getType();var b=(jQuery.inArray(t,this._typeWithBgImages)>-1);$.addClass("sapMeOverlapCalendarDayWithHalf");$.append("<div class='sapMeOverlapCalendarHalfDay sapMeOverlapCalendarType"+t+"HalfDayStart'></div>");var d=(100/(this.getCalendar().getWeeksPerRow()*7));$.children(":first").width(d+"%").height(this.getCalendar().getDayHeight());if(h.length>1){var a=h[1];var c=a.getType();$.append("<div class='sapMeOverlapCalendarHalfDay sapMeOverlapCalendarType"+c+"HalfDayEnd'></div>")}else if(b){$.append("<div class='sapMeOverlapCalendarHalfDay sapMeOverlapCalendarTypeHalfDayEnd'></div>")}$.children(":last").width(d+"%").height(this.getCalendar().getDayHeight())};sap.me.OverlapCalendar.prototype._renderCalendarEvent=function(i,c){var s=new Date(c.getStartDay());var e=new Date(c.getEndDay());if(this._lastDate==undefined){this._lastDate=e}if(this._dayIsAfter(e,this._lastDate)){this._lastDate=e};if(this._firstDate==undefined){this._firstDate=s}if(this._dayIsBefore(s,this._firstDate)){this._firstDate=s}var a=this._getFirstDateDisplayed();var l=this._getLastDateDisplayed();if((!this._dayIsBefore(e,a))&&(!this._dayIsAfter(s,l))){var r=c.getRow();var b=this.getId()+"-row-"+r+"-lbls";var $=jQuery.sap.byId(b);var d=this._dayIsAfter(s,a)?s:a;e=this._dayIsAfter(e,l)?l:e;var n=this._getDaysOffset(d,e)+1;var f=this._getDaysOffset(a,d);var t=c.getTypeName();var g="sapMeOverlapCalendarType"+c.getType();var h=undefined;var j;if(c.getHalfDay()===true){j=this._getDayId(d);var k=r+"-"+j;if(this._mHalfDays[k]==undefined){this._mHalfDays[k]=[];h=jQuery.sap.byId(k)}this._mHalfDays[k].push(c)}else{while((this._getDaysDifference(d,e)<=0)){j=this._getDayId(d);this._addToDayOverlap(j);h=jQuery.sap.byId(r+"-"+j);h.addClass(g);d.setDate(d.getDate()+1)}}if(h!=undefined){$.width(this.getWidth());$.append("<label dir='Inherit' id='lbl"+h.attr("id")+"'>"+t+"</label>");var o=$.children('#lbl'+h.attr("id"));o.addClass("sapMeOverlapCalendarTypeLbl sapMLabel");var p=(100/(this.getCalendar().getWeeksPerRow()*7));var w=(n*p);o.width(w+"%");var q=(f*p);var m=(f==0)?1:.5;var u=q+"%";o.css("left",u);o.css("padding-left",m+"rem")}}};sap.me.OverlapCalendar.prototype._parseCalendarEvent=function(i,c){var r=c.getRow();if(r!=-1){if(c.getName()!=undefined){if(this._aRows[r]==undefined&&c.getName()!=""){this._aRows[r]=c.getName()}}else{}}else{}};sap.me.OverlapCalendar.prototype._getLabelForRow=function(i){return this._getLabel(this._aRows[i],"nameLabels").addStyleClass("sapMeOverlapCalendarNameLbl")};sap.me.OverlapCalendar.prototype._getLabel=function(t,a){var l=new sap.m.Label({text:t});this.addAggregation(a,l,true);return l}};if(!jQuery.sap.isDeclared('sap.me.OverlapCalendarEvent')){jQuery.sap.declare("sap.me.OverlapCalendarEvent");jQuery.sap.require('sap.ui.core.Element');sap.ui.core.Element.extend("sap.me.OverlapCalendarEvent",{metadata:{library:"sap.me",properties:{"startDay":{type:"string",group:"Data",defaultValue:null,bindable:"bindable"},"endDay":{type:"string",group:"Data",defaultValue:null,bindable:"bindable"},"relevant":{type:"boolean",group:"Misc",defaultValue:null,bindable:"bindable"},"type":{type:"string",group:"Data",defaultValue:null,bindable:"bindable"},"typeName":{type:"string",group:"Appearance",defaultValue:null,bindable:"bindable"},"halfDay":{type:"boolean",group:"Data",defaultValue:false,bindable:"bindable"},"row":{type:"int",group:"Data",defaultValue:-1,bindable:"bindable"},"name":{type:"string",group:"Misc",defaultValue:null,bindable:"bindable"}}}})};if(!jQuery.sap.isDeclared('sap.me.ProgressIndicator')){jQuery.sap.declare("sap.me.ProgressIndicator");jQuery.sap.require('sap.ui.core.Control');sap.ui.core.Control.extend("sap.me.ProgressIndicator",{metadata:{deprecated:true,library:"sap.me",properties:{"visible":{type:"boolean",group:"Behavior",defaultValue:true},"enabled":{type:"boolean",group:"Behavior",defaultValue:true},"barColor":{type:"sap.ui.core.BarColor",group:"Appearance",defaultValue:sap.ui.core.BarColor.NEUTRAL},"displayValue":{type:"string",group:"Appearance",defaultValue:'0%'},"percentValue":{type:"int",group:"Data",defaultValue:0},"showValue":{type:"boolean",group:"Appearance",defaultValue:true},"width":{type:"sap.ui.core.CSSSize",group:"Dimension",defaultValue:'100%'}}}});sap.me.ProgressIndicator.prototype.setEndBar=function(){var w=this.getPercentValue();var a;var b=this.getBarColor();var t;this.oBar=jQuery.sap.domById(this.getId()+'-bar');this.oEnd=jQuery.sap.domById(this.getId()+'-end');this.oBox=jQuery.sap.domById(this.getId()+'-box');jQuery(this.oEnd).removeClass('sapUIMeProgIndEndHidden');jQuery(this.oEnd).addClass('sapUIMeProgIndEnd');if(w>100){a=(10000/w)+'%'}else{a='100%'}if(w>100){t=(w-100)*20}else{t=(100-w)*20}jQuery(this.oBox).animate({width:a},0,'linear');jQuery(this.oEnd).animate({left:a},t,'linear');jQuery(this.oBar).animate({width:w+'%'},t,'linear');if(!this.oThis){this.oThis=jQuery.sap.byId(this.getId())}};sap.me.ProgressIndicator.prototype.setEndBarGoesBack=function(p){var w=this.getPercentValue();var a;var b=this.getBarColor();var t;this.oBar=jQuery.sap.domById(this.getId()+'-bar');this.oEnd=jQuery.sap.domById(this.getId()+'-end');this.oBox=jQuery.sap.domById(this.getId()+'-box');if(p>100){a=(10000/p)+'%'}else{a='100%'}jQuery(this.oEnd).removeClass('sapUIMeProgIndEnd');jQuery(this.oEnd).addClass('sapUIMeProgIndEndHidden');if(w>100){t=(w-100)*20}else{t=(100-w)*20}jQuery(this.oBox).animate({width:a},0,'linear');jQuery(this.oEnd).animate({left:a},t,'linear');jQuery(this.oBar).animate({width:w+'%'},t,'linear');if(!this.oThis){this.oThis=jQuery.sap.byId(this.getId())}};sap.me.ProgressIndicator.prototype.setPercentValue=function(p){var w=this.getPercentValue();var a;var b=this.getBarColor();this.oBar=jQuery.sap.domById(this.getId()+'-bar');this.oEnd=jQuery.sap.domById(this.getId()+'-end');this.oBox=jQuery.sap.domById(this.getId()+'-box');var t=this;var c;if(p<0){p=0}if(p>100){a=(10000/p)+'%'}else{a='100%'}if(!this.oBar){c=p*20;this.setProperty('percentValue',p,true);jQuery(this.oBar).animate({width:p+'%'},c,'linear');return this}if(p>100&&w<=100){c=(100-w)*20;this.setProperty('percentValue',p,true);jQuery(this.oBar).animate({width:'100%'},c,'linear',function(){t.setEndBar()})}else if(p<=100&&w>100){c=(w-100)*20;this.setProperty('percentValue',p,true);jQuery(this.oBar).animate({width:'100%'},c,'linear',function(){t.setEndBarGoesBack()})}else if(p>100&&w>100){if(p>w){c=(p-w)*20}else{c=(w-p)*20}a=(10000/p)+'%';this.setProperty('percentValue',p,true);jQuery(this.oBox).animate({width:a},0,'linear');jQuery(this.oEnd).animate({left:a},c,'linear');jQuery(this.oBar).animate({width:p+'%'},c,'linear',function(){});if(!this.oThis){this.oThis=jQuery.sap.byId(this.getId())}}else{if(p>w){c=(p-w)*20}else{c=(w-p)*20}this.setProperty('percentValue',p,true);jQuery(this.oBar).animate({width:p+'%'},c,'linear');if(!this.oThis){this.oThis=jQuery.sap.byId(this.getId())}}return this}};if(!jQuery.sap.isDeclared('sap.me.TabContainer')){jQuery.sap.declare("sap.me.TabContainer");jQuery.sap.require('sap.ui.core.Control');sap.ui.core.Control.extend("sap.me.TabContainer",{metadata:{deprecated:true,library:"sap.me",properties:{"selectedTab":{type:"int",group:"Data",defaultValue:null},"badgeInfo":{type:"int",group:"Data",defaultValue:null},"badgeNotes":{type:"int",group:"Data",defaultValue:null},"badgeAttachments":{type:"int",group:"Data",defaultValue:null},"badgePeople":{type:"int",group:"Data",defaultValue:null},"expandable":{type:"boolean",group:"Misc",defaultValue:true},"expanded":{type:"boolean",group:"Misc",defaultValue:true},"visible":{type:"boolean",group:"Misc",defaultValue:true}},aggregations:{"tabs":{type:"sap.ui.core.Icon",multiple:true,singularName:"tab",visibility:"hidden"},"contentInfo":{type:"sap.ui.core.Control",multiple:false},"contentAttachments":{type:"sap.ui.core.Control",multiple:false},"contentNotes":{type:"sap.ui.core.Control",multiple:false},"contentPeople":{type:"sap.ui.core.Control",multiple:false},"badges":{type:"sap.ui.core.Control",multiple:true,singularName:"badge",visibility:"hidden"}},events:{"select":{allowPreventDefault:true},"expand":{},"collapse":{}}}});sap.me.TabContainer.M_EVENTS={'select':'select','expand':'expand','collapse':'collapse'};jQuery.sap.require('sap.ui.core.IconPool');jQuery.sap.require('sap.ui.core.theming.Parameters');sap.me.TabContainer.prototype.init=function(){this.addAggregation("tabs",this._createButton("Info"));this.addAggregation("tabs",this._createButton("Notes"));this.addAggregation("tabs",this._createButton("Attachments"));this.addAggregation("tabs",this._createButton("People"));sap.ui.core.IconPool.insertFontFaceStyle();this._bFirstRendering=true};sap.me.TabContainer.prototype.setBadgeInfo=function(v){this._setBadgeLabelByName("badgeInfo",v)};sap.me.TabContainer.prototype.setBadgeAttachments=function(v){this._setBadgeLabelByName("badgeAttachments",v)};sap.me.TabContainer.prototype.setBadgeNotes=function(v){this._setBadgeLabelByName("badgeNotes",v)};sap.me.TabContainer.prototype.setBadgePeople=function(v){this._setBadgeLabelByName("badgePeople",v)};sap.me.TabContainer.prototype.onBeforeRendering=function(){if(this.getSelectedTab()==undefined){this.setProperty("selectedTab",0,true)}};sap.me.TabContainer.prototype._setBadgeLabelByName=function(n,v){var l=sap.ui.getCore().byId(this.getId()+"-"+n);l.setText(v);this.setProperty(n,v);l.toggleStyleClass("sapUIMeTabContainerHiddenBadges",(v==0))};sap.me.TabContainer.prototype._placeElements=function(){var $=jQuery.sap.byId(this.getId()+"-arrow");var b=this.getAggregation("tabs")[this.getSelectedTab()];if(b&&(b.$().outerWidth()>8)){var l=parseFloat(b.$()[0].offsetLeft)+parseFloat(b.$().outerWidth()/2)-parseFloat($.width()/2);$.css("left",l+"px")}};sap.me.TabContainer.prototype.onAfterRendering=function(){this.setProperty("expanded",true,true);if(this._bFirstRendering){this._bFirstRendering=false;setTimeout(jQuery.proxy(this._placeElements,this),300)}else{this._placeElements()}};sap.me.TabContainer.prototype.onThemeChanged=function(){this._placeElements()};sap.me.TabContainer.prototype.onTransitionEnded=function(){var $=jQuery.sap.byId(this.getId()+"-container");if(this.getExpanded()){jQuery.sap.byId(this.getId()+"-arrow").show();$.css("display","block");this.$().find(".sapUIMeTabContainerContent").removeClass("sapUIMeTabContainerContentClosed")}else{$.css("display","none");this.$().find(".sapUIMeTabContainerContent").addClass("sapUIMeTabContainerContentClosed")}};sap.me.TabContainer.prototype.toggleExpandCollapse=function(){var e=!this.getExpanded();var $=jQuery.sap.byId(this.getId()+"-container");var a=jQuery.sap.byId(this.getId()+"-arrow");if(e){this.$().find(".sapUIMeTabContainerButtons").children().filter(":eq("+this.getSelectedTab()+")").addClass("sapUIMeTabContainerTabSelected");$.slideDown('400',jQuery.proxy(this.onTransitionEnded,this));this.fireExpand()}else{a.hide();this.$().find(".sapUIMeTabContainerTabSelected").removeClass("sapUIMeTabContainerTabSelected");$.slideUp('400',jQuery.proxy(this.onTransitionEnded,this));this.fireCollapse()}this.setProperty("expanded",e,true)};sap.me.TabContainer.prototype.onButtonTap=function(e){var b=e.getSource();var i=this.indexOfAggregation("tabs",b);if(i==this.getSelectedTab()&&this.getExpandable()){this.toggleExpandCollapse()}else{this.setProperty("expanded",true,true);var B=b.getId();var c=this._getContentForBtn(B);if(c){if(this.fireSelect()){this.setSelectedTab(i)}}}};sap.me.TabContainer.prototype._getContentForBtn=function(b){var i=this.getId()+"-";var c=b.substr(b.indexOf(i)+i.length);return this.getAggregation(c)};sap.me.TabContainer.prototype._getBagdeForBtn=function(b){var i=this.getId()+"-content";var a=b.substr(b.indexOf(i)+i.length);a.charAt(0).toUpperCase();a="badge"+a;return this.getProperty(a)};sap.me.TabContainer.prototype._getScrollContainer=function(c){return new sap.m.ScrollContainer({content:c})};sap.me.TabContainer.prototype._createButton=function(i){var I=sap.ui.core.theming.Parameters.get("sapMeTabIcon"+i);var u=sap.ui.core.IconPool.getIconURI(I);var c=sap.ui.core.theming.Parameters.get("sapMeTabColor"+i);var b=new sap.ui.core.Icon(this.getId()+'-content'+i,{src:u,backgroundColor:c,activeColor:sap.ui.core.theming.Parameters.get("sapUiIconInverted")});b.addStyleClass("sapUIMeTabContainerBtn");b.addStyleClass("sapUIMeTabContainerBtn"+i);b.attachPress(this.onButtonTap,this);var l=new sap.m.Label(this.getId()+'-badge'+i,{textAlign:"Center"});l.addStyleClass("sapUIMeTabContainerBadge");l.addStyleClass("sapUIMeTabContainerBadge"+i);this.addAggregation("badges",l);return b}};
