// Copyright (c) 2013 SAP AG, All Rights Reserved
(function(g){"use strict";sap.ui.core.Control.extend("SearchResultListWithDetail",{metadata:{properties:{},aggregations:{"resultList":{type:"sap.ui.core.Control",multiple:false},"preview":{type:"sap.ui.core.Control",multiple:false}}},renderer:function(r,c){r.write("<div");r.writeControlData(c);r.addClass("searchResultListWithDetail");r.writeClasses();r.write('>');r.write('<div class="searchLayout-left">');if(c.getResultList()){r.renderControl(c.getResultList())}r.write('</div>');r.write('<div');r.addClass("searchLayout-right");r.writeClasses();r.write('>');if(c.getPreview()){r.renderControl(c.getPreview())}r.write('</div>');r.write("</div>")},onAfterRendering:function(){var s=this;var p=$(this.getDomRef()).find('.searchResultListItemDetail');var h=50;var u=function(){if($("#searchResultPage-scroll").length>0){var r=$('.searchResultListWithDetail');if(r.length>0){if(r.offset().top-h<0){p.css('margin-top',-r.offset().top+h)}else{p.css('margin-top',0)}}}};$("#searchResultPage-cont").on("scroll",u);var l;$("#searchResultPage-cont").bind('touchmove',function(e){e.preventDefault();u();if(l){window.clearTimeout(l)}l=setTimeout(function(){u()},1500)});u()}});sap.ui.core.Control.extend("SearchLayout",{metadata:{properties:{showMainHeader:{type:"boolean",defaultValue:false},topHeader:"string",topCount:"int",bottomHeader:"string",bottomHeaderIsUnspecific:{type:"boolean",defaultValue:true},bottomCount:"int"},aggregations:{"topList":{type:"sap.ui.core.Control",multiple:false},"bottomList":{type:"sap.ui.core.Control",multiple:false},}},renderer:function(r,c){r.write("<div");r.writeControlData(c);r.addClass("searchLayout");r.writeClasses();r.write('>');if(c.getShowMainHeader()===true){var t=0;if(c.getTopCount()){t=t+c.getTopCount()}if(c.getBottomCount()){t=t+c.getBottomCount()}r.write('<div class="searchLayout-mainHeader">');r.renderControl((new sap.m.Label({text:sap.ushell.resources.i18n.getText("searchResults")})).addStyleClass('searchLayout-mainHeaderName'));r.renderControl((new sap.m.Label({text:'('+t+')'})).addStyleClass('searchLayout-mainHeaderCount'));r.write('</div>')}if(c.getTopList()&&c.getTopHeader()){r.write('<div class="searchLayout-bucket">');r.renderControl((new sap.m.Label({text:c.getTopHeader()})).addStyleClass('searchLayout-bucketName'));if(c.getTopCount())r.renderControl((new sap.m.Label({text:'('+c.getTopCount()+')'})).addStyleClass('searchLayout-bucketCount'));r.write('</div>')}if(c.getTopList()){r.renderControl(c.getTopList())}if(c.getBottomList()&&c.getBottomHeader()){if(c.getBottomHeaderIsUnspecific()===true&&c.getTopCount()===0){}else{r.write('<div class="searchLayout-bucket">');r.renderControl((new sap.m.Label({text:c.getBottomHeader()})).addStyleClass('searchLayout-bucketName'));if(c.getBottomCount())r.renderControl((new sap.m.Label({text:'('+c.getBottomCount()+')'})).addStyleClass('searchLayout-bucketCount'));r.write('</div>')}}if(c.getBottomList()){r.renderControl(c.getBottomList())}r.write("</div>")}})}(window));
