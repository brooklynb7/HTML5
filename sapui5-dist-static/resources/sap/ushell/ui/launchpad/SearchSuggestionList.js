/*!
 * SAP UI development toolkit for HTML5 (SAPUI5) (c) Copyright 2009-2013 SAP AG. All rights reserved
 */
jQuery.sap.declare("sap.ushell.ui.launchpad.SearchSuggestionList");jQuery.sap.require("sap.ushell.library");jQuery.sap.require("sap.m.List");sap.m.List.extend("sap.ushell.ui.launchpad.SearchSuggestionList",{metadata:{library:"sap.ushell",properties:{"disableKeyboardNavigation":{type:"boolean",group:"Misc",defaultValue:false}},events:{"pressEsc":{},"pressUpFirstItem":{}}}});sap.ushell.ui.launchpad.SearchSuggestionList.M_EVENTS={'pressEsc':'pressEsc','pressUpFirstItem':'pressUpFirstItem'};
// Copyright (c) 2013 SAP AG, All Rights Reserved
(function(){"use strict";jQuery.sap.require("sap.ushell.override");jQuery.sap.require("sap.ui.core.delegate.ItemNavigation");sap.ushell.ui.launchpad.SearchSuggestionList.prototype.init=function(e){this.setShowNoData(false);this.setShowSeparators(sap.m.ListSeparators.Inner);this.oItemNavigation=new sap.ui.core.delegate.ItemNavigation();this.oItemNavigation.attachEvent("AfterFocus",this._afterFocus)};sap.ushell.ui.launchpad.SearchSuggestionList.prototype.exit=function(e){this.oItemNavigation.detachEvent("AfterFocus",this._afterFocus);this.oItemNavigation.destroy()};sap.ushell.ui.launchpad.SearchSuggestionList.prototype.updateAggregation=sap.ushell.override.updateAggregation;sap.ushell.ui.launchpad.SearchSuggestionList.prototype.addItem=function(i){if(i instanceof sap.ushell.ui.launchpad.SearchSuggestionListItem){i.attachFocus(this._focusItem,this)}return sap.m.List.prototype.addItem.call(this,i)};sap.ushell.ui.launchpad.SearchSuggestionList.prototype.removeItem=function(i){if(i instanceof sap.ushell.ui.launchpad.SearchSuggestionListItem){i.detachFocus(this._focusItem,this)}return sap.m.List.prototype.removeItem.call(this,i)};sap.ushell.ui.launchpad.SearchSuggestionList.prototype.setDisableKeyboardNavigation=function(d){if(d){this.removeDelegate(this.oItemNavigation)}else{this.addDelegate(this.oItemNavigation)}this.setProperty("disableKeyboardNavigation",d);return this};sap.ushell.ui.launchpad.SearchSuggestionList.prototype.onsapright=function(){var s=this.oItemNavigation;s.setFocusedIndex(s.getItemDomRefs().lastIndexOf(s.getFocusedDomRef()))};sap.ushell.ui.launchpad.SearchSuggestionList.prototype.onsapup=function(e){if(e.srcControl===this.getItems()[0]){this.removeDelegate(this.oItemNavigation);this.firePressUpFirstItem()}};sap.ushell.ui.launchpad.SearchSuggestionList.prototype.onsapescape=function(){this.removeDelegate(this.oItemNavigation);this.firePressEsc()};sap.ushell.ui.launchpad.SearchSuggestionList.prototype.onAfterRendering=function(){var f=this.getDomRef(),d=f.getElementsByTagName("li"),I=[],m=0;jQuery.each(d,function(i,v){var c=v.getElementsByClassName("sapUshellSearchSuggestionListItemNavItem").length;if(c>m){m=c}});jQuery.each(d,function(i,v){var l=v.getElementsByClassName("sapUshellSearchSuggestionListItemNavItem"),j=0;if(l.length>0){for(j;j<m;j=j+1){I.push(l[j]||I[I.length-1])}}});this.oItemNavigation.setRootDomRef(f).setItemDomRefs(I).setCycling(true).setColumns(m).setSelectedIndex(0)};sap.ushell.ui.launchpad.SearchSuggestionList.prototype._afterFocus=function(e){this.setFocusedIndex(this.getItemDomRefs().indexOf(this.getFocusedDomRef()))};sap.ushell.ui.launchpad.SearchSuggestionList.prototype._focusItem=function(){this.addDelegate(this.oItemNavigation)}}());
