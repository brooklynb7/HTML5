/*!
 * SAP UI development toolkit for HTML5 (SAPUI5)
 * 
 * (c) Copyright 2009-2013 SAP AG. All rights reserved
 */
jQuery.sap.declare("sap.ui.ux3.NotificationBarRenderer");jQuery.sap.require("sap.ui.core.theming.Parameters");sap.ui.ux3.NotificationBarRenderer={};(function(){sap.ui.ux3.NotificationBarRenderer.render=function(o,C){w(o,C);W(o,C);c(o,C)};var w=function(o,C){o.write("<div");o.writeControlData(C);if(C.getVisibleStatus()===sap.ui.ux3.NotificationBarStatus.None){if(C.$().length>0){if(C._resizeFrom){C.$().stop().animate({height:0},"fast",function(){C.$().css("display","none");o.addStyle("display","none");o.writeAttribute("aria-hidden","true")})}else{o.addStyle("display","none");o.writeAttribute("aria-hidden","true")}}else{o.addStyle("display","none");o.writeAttribute("aria-hidden","true")}}else{o.writeAttribute("aria-hidden","false");o.addStyle("display","block")}o.writeStyles();o.addClass("sapUiNotificationBar");if(C._resizeTo){if(C._resizeFrom==sap.ui.ux3.NotificationBarStatus.Max){if(C._resizeTo==sap.ui.ux3.NotificationBarStatus.Default){o.addClass("sapUiNotificationBarMaximized")}}}o.writeClasses();o.write(">");f(o,C)};var r=function(o,C){var s=C.getVisibleStatus();if(s!=="None"){var i=C.getId()+"-toggler";o.write("<div");o.writeAttribute("id",i);o.addClass("sapUiBarToggle");if(s!=="Min"){o.addClass("sapUiBarToggleWide")}o.writeClasses();if(jQuery.browser.mobile){o.addStyle("display","block");o.writeStyles()}o.write(">");R(o,C,"ArrowUp");R(o,C,"ArrowDown");R(o,C,"BarUp");R(o,C,"BarDown");o.write("</div>")}else{if(jQuery.browser.mobile){o.addStyle("display","none");o.writeStyles()}}};var R=function(o,C,i){o.write("<div");var I=C.getId()+"-"+i;o.writeAttribute("id",I);var s=C.getVisibleStatus();var H=true;var t="";switch(i){case"ArrowUp":if(s==="Default"){H=false}t=C._oResBundle.getText("NOTIBAR_TITLE_ENLARGE");break;case"ArrowDown":if(s==="Max"){H=false}t=C._oResBundle.getText("NOTIBAR_TITLE_MINIMIZE");break;case"BarUp":if(s==="Min"){H=false}t=C._oResBundle.getText("NOTIBAR_TITLE_BAR_UP");break;case"BarDown":if(s==="Max"||s==="Default"){H=false}t=C._oResBundle.getText("NOTIBAR_TITLE_BAR_DOWN");break}o.writeAttributeEscaped("title",t);if(H){o.addClass("sapUiBarToggleHide")}o.addClass("sapUiBarToggle"+i);o.addClass("sapUiBarToggleItem");o.writeClasses();o.write(">");o.write("</div>")};var f=function(o,C){o.write("<div");var i=C.getId()+"-hoverItem";o.writeAttribute("id",""+i);var s=C.getVisibleStatus();if(s==="Min"){o.addStyle("top","-"+sap.ui.ux3.NotificationBar.HOVER_ITEM_HEIGHT+"px");o.addStyle("display","block")}else{o.addStyle("display","none")}if(C.getDomRef()){var $=jQuery(C.getDomRef());var l=$.width()+"px";o.addStyle("width",l)}o.writeStyles();o.addClass("sapUiNotiHover");o.writeClasses();o.write(">");o.write("</div>")};var W=function(o,C){if(C.getResizeEnabled()){r(o,C)}if(C.hasItems()){if(C.getVisibleStatus()==sap.ui.ux3.NotificationBarStatus.Max){a(o,C)}else{b(o,C)}}};var a=function(o,C){var n=C.getNotifiers();var m=C.getMessageNotifier();o.write("<div");o.writeAttribute("id",C.getId()+"-containers");o.addClass("sapUiNotifierContainers");o.writeClasses();o.write(">");if(m&&m.hasItems()){m.destroyAggregation("views",true);var M=e(m);m.addAggregation("views",M,true);o.renderControl(M)}if(n.length>0){for(var i=0;i<n.length;i++){if(n[i].hasItems()){n[i].destroyAggregation("views",true);var v=e(n[i]);n[i].addAggregation("views",v,true);o.renderControl(v)}}}o.write("</div")};var b=function(o,C){var n=C.getNotifiers();var m=C.getMessageNotifier();o.write("<ul");o.writeAttribute("id",C.getId()+"-notifiers");o.addClass("sapUiNotifiers");o.writeClasses();o.write(">");var M=false;for(var i=0;i<n.length;i++){if(n[i].hasItems()){M=true;break}}var l=(m&&m.hasItems())?true:false;if(M){g(o,n)}if(M&&l){o.write("<li");o.addClass("sapUiNotifierSeparator");o.writeClasses();o.write(">");o.write("&nbsp;");o.write("</li>")}if(l){j(o,m,C)}o.write("</ul>")};var c=function(o,C){o.write("</div>")};var d=function(o,n,m){o.write("<li");o.writeElementData(n);o.addClass("sapUiNotifier");o.writeClasses();o.writeAttribute("tabindex","-1");o.writeAttribute("aria-describedby",n.getId()+'-description>');o.write(">");h(o,n.getIcon(),m);o.write('<div id="'+n.getId()+'-description"');o.addStyle("display","none");o.writeStyles();o.write(">");o.write("</div>");var C=n.getMessages().length;if(C>0){o.write('<div id="'+n.getId()+'-counter" role="tooltip"');o.addClass("sapUiNotifierMessageCount");if(m){o.addClass("sapUiMessage")}o.writeClasses();o.write(">");if(C>99){C=">99"}o.write(C);o.write("</div>")}o.write("</li>")};var e=function(n){var N=new sap.ui.ux3.NotificationBar.NotifierView({title:n.getTitle(),renderMode:"maximized"});var m=n.getMessages();for(var i=0;i<m.length;i++){var M=m[i];var o=new sap.ui.ux3.NotificationBar.MessageView({text:M.getText(),timestamp:M.getTimestamp()});o._message=M;o.setIcon(M.getIcon()||M.getDefaultIcon("32x32"));N.addMessage(o)}return N};var g=function(o,n){for(var i=0;i<n.length;i++){d(o,n[i],false)}};var h=function(o,u,m){o.write("<img");o.addClass("sapUiNotifierIcon");o.writeClasses();var i="";if(u==null||u==""){if(m){i=jQuery.sap.getModulePath("sap.ui.ux3",'/')+"themes/"+sap.ui.getCore().getConfiguration().getTheme()+"/img/notification_bar/alert_white_24.png"}else{i=jQuery.sap.getModulePath("sap.ui.ux3",'/')+"themes/"+sap.ui.getCore().getConfiguration().getTheme()+"/img/notification_bar/notification_24.png"}}else{i=u}o.writeAttributeEscaped("src",i);o.write(">");o.write("</img>")};var j=function(o,n,N){d(o,n,true);k(o,n,N)};var k=function(o,m,n){if(m.hasItems()){var M=m.getMessages();var l=M[M.length-1];var i=m._oMessageArea;i._message=l;o.write("<li");o.addClass("sapUiInPlaceMessage");o.writeClasses();if(n._gapMessageArea){var s=n._gapMessageArea+"px";o.addStyle("margin-left",s);o.writeStyles()}o.write(">");if(l.getText()!=""){o.write("<div");o.writeControlData(i);o.addClass("sapUiNotifierMessageText");o.addClass("sapUiInPlaceMessage");o.writeClasses();o.write(">");o.writeEscaped(l.getText());o.write("</div>")}if(l.getTimestamp()!=""){o.write("<div");o.addClass("sapUiNotifierMessageTimestamp");o.addClass("sapUiInPlaceMessage");o.writeClasses();o.write(">");o.writeEscaped(l.getTimestamp());o.write("</div>")}o.write("</li>")}}}());
